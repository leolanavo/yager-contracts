type User {
  _id: ID!
  email: String!
  name: String!
}

type AppliedPayment {
  _id: String!
  baseCharge: Float!
  chargeDate: String!,
  paymentDate: String
}

type Clause {
  _id: ID!
  text: String!
  payment: Payment
  references: [ID]
}

type Contract {
  party_a: ID!,
  party_b: ID!,
  start_date: String!,
  end_date: String!,
  extensions: [Extension],
  applied_clauses: [ID]
}

type Extension {
  _id: ID!,
  date: String!,
  new_end_date: String!,
}

type Payment {
  _id: ID!,
  baseCharge: Float!,
  type: String!,
  payment_deadline: Int,
  increments: [Increment]
}

type Increment {
  _id: ID!,
  period: Int,
  relative_rate: Float!,
  absolute_rate: Float!,
}

type Company {
  _id: ID!
  name: String!
  cnpj: String!
  segments: [ID!]!
  documents: [ID!]!
}

type Query {
  getPayment(id: ID!): User!
  getBestRatedCompaniesBySegment(name: String!, segment: String!): String! 
}

type Mutation {
  # User resolvers
  createUser(email: String!, name: String!): User!

  # Payment resolvers
  createPayment(baseCharge: Float!, chargeDate: String!, paymentDate: String): AppliedPayment!
  addPayment(clauseId: ID!, baseCharge: Float!, type: String!, payment_deadline: Int): Payment!
  addIncrement(paymentId: ID!, period: Int, relative_rate: Float!, absolute_rate: Float!): Increment!
  
  # Company resolvers
  createCompany(name: String!, cnpj: String!, segments: [ID!]! , documents: [ID!]!): Company!

  # Contract resolvers
  createContract(party_a: ID!, party_b: ID!, start_date: String!, end_date: String!): Contract!
  createClause(text: String!): Clause!
}